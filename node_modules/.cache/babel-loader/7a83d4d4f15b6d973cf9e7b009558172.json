{"ast":null,"code":"export const refreshToken = res => {\n  // Timing to renew access token\n  let refreshTiming = (res.tokenObj.expires_in || 3600 - 5 * 60) * 1000;\n\n  const refreshToken = async () => {\n    const newAuthRes = await res.reloadAuthResponse();\n    refreshTiming = (newAuthRes.expires_in || 3600 - 5 * 60) * 1000;\n    console.log('newAuthRes:', newAuthRes);\n    console.log('new auth Token', newAuthRes.id_token); // Setup the other timer after the first one\n\n    setTimeout(refreshToken, refreshTiming);\n  }; // Setup first refresh timer\n\n\n  setTimeout(refreshToken, refreshTiming);\n};","map":{"version":3,"sources":["/home/ec2-user/environment/Final_Project_CS490-8/src/components/refreshToken.js"],"names":["refreshToken","res","refreshTiming","tokenObj","expires_in","newAuthRes","reloadAuthResponse","console","log","id_token","setTimeout"],"mappings":"AAAA,OAAO,MAAMA,YAAY,GAAIC,GAAD,IAAS;AACnC;AACA,MAAIC,aAAa,GAAG,CAACD,GAAG,CAACE,QAAJ,CAAaC,UAAb,IAA2B,OAAO,IAAI,EAAvC,IAA6C,IAAjE;;AAEA,QAAMJ,YAAY,GAAG,YAAY;AAC/B,UAAMK,UAAU,GAAG,MAAMJ,GAAG,CAACK,kBAAJ,EAAzB;AACAJ,IAAAA,aAAa,GAAG,CAACG,UAAU,CAACD,UAAX,IAAyB,OAAO,IAAI,EAArC,IAA2C,IAA3D;AACAG,IAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ,EAA2BH,UAA3B;AAEAE,IAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ,EAA8BH,UAAU,CAACI,QAAzC,EAL+B,CAO/B;;AACAC,IAAAA,UAAU,CAACV,YAAD,EAAeE,aAAf,CAAV;AACD,GATD,CAJmC,CAenC;;;AACAQ,EAAAA,UAAU,CAACV,YAAD,EAAeE,aAAf,CAAV;AACD,CAjBM","sourcesContent":["export const refreshToken = (res) => {\n  // Timing to renew access token\n  let refreshTiming = (res.tokenObj.expires_in || 3600 - 5 * 60) * 1000;\n\n  const refreshToken = async () => {\n    const newAuthRes = await res.reloadAuthResponse();\n    refreshTiming = (newAuthRes.expires_in || 3600 - 5 * 60) * 1000;\n    console.log('newAuthRes:', newAuthRes);\n    \n    console.log('new auth Token', newAuthRes.id_token);\n\n    // Setup the other timer after the first one\n    setTimeout(refreshToken, refreshTiming);\n  };\n\n  // Setup first refresh timer\n  setTimeout(refreshToken, refreshTiming);\n};"]},"metadata":{},"sourceType":"module"}